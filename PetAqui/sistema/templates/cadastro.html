{%extends 'bases/base.html' %}
{% load static %}
{% load bootstrap %}
{% load widget_tweaks %}
{% load crispy_forms_tags %}
{% block main %}
<br>
<p class="text-secondary">Home / Cadastro</p>
<div class="card text-white bg-primary">
  <div class="card-header">Cadastro de Usúario</div>
  <div class="card bg-light  ">
  <div class="card-body text-secondary">
    <form action="{%  url 'sistema_cadastro_novo'  %}" method="POST" onsubmit="return myFunction()" enctype="multipart/form-data" name="form" novalidate>
             {% csrf_token %}
         
<div class="form-row"> 
         <div class="form-group col-md-6">
         
    
    {{ form.nome | as_crispy_field }}
   
  </div>
 
  <div class="form-group col-md-6">
   
     {{ form.sobrenome | as_crispy_field}}
  </div>
  
    </div>
    <div class="form-row"> 
 <div class="form-group col-md-4">

    {{ form.email | as_crispy_field}}
    </div>
     <div class="form-group col-md-4">


    {{ form.email2 | as_crispy_field}}
    <div id="message"></div>
    </div>
 <div class="form-group col-md-4">
 {{ form.cpf | as_crispy_field}}
    
    </div>
    </div>
    <div class="form-row"> 
 <div class="form-group col-md-6">
 {{ form.telefone | as_crispy_field}}
    
    </div>
     <div class="form-group col-md-3">

    {{ form.data_nascimento | as_crispy_field}}
    </div>
    <div class="form-group col-md-3">
{{ form.sexo | as_crispy_field}}
    
    </div>
    </div>
<div class="form-row"> 
 <div class="form-group col-md-12">
   
     {{ form.foto | as_crispy_field}}
  </div>
    </div>
        <div class="form-row"> 
 <div class="form-group col-md-6">

     {{ form.endereco | as_crispy_field}}
    </div>
     <div class="form-group col-md-2">

    {{ form.numero | as_crispy_field}}
    </div>
    <div class="form-group col-md-4">

     {{ form.bairro | as_crispy_field}}
    </div>
    </div>
         <div class="form-row"> 
 <div class="form-group col-md-5">

   {{ form.cidade | as_crispy_field}}
    </div>
     <div class="form-group col-md-4">

    {{ form.estado | as_crispy_field}}
    </div>
    <div class="form-group col-md-3">

    {{ form.cep | as_crispy_field}}
    </div>
    </div>

             <div class="form-row"> 
<div class="form-group col-md-12">
   {{ form.pet | as_crispy_field }}
    </div>
   
    
     </div>
                 <div class="form-row"> 
 <div class="form-group col-md-6">

   {{ form.senha | as_crispy_field}}
    </div>
     <div class="form-group col-md-6">
 
    {{ form.senha2 | as_crispy_field}}
    <div id="divCheckPassword"></div>
    </div>
    
    </div>

                <button type="submit" id="validator" class="btn btn-primary btn-block">Cadastrar</button>

        </form>
  </div>
</div>
</div>
<script>
$(document).ready(function(){
  $('.data').mask('99/99/9999');
  $('.time').mask('00:00:00');
  $('.date_time').mask('99/99/9999 00:00:00');
  $('.cep').mask('99999-999');
  $('.phone').mask('9999-9999');
  $('.phone_with_ddd').mask('(99) 99999-9999');
  $('.phone_us').mask('(999) 999-9999');
  $('.mixed').mask('AAA 000-S0S');
  $('.cpf').mask('999.999.999-99');
  
 
});
</script>
<script>
 $("form").submit(function() {
  $('.data').unmask();
  $('.cep').unmask();
  $('.phone_with_ddd').unmask();
  $('.cpf').unmask();
}); 
</script>
<script>
 $('#validator').prop('disabled' , true);
$('#senha2').on('keyup', function () {
    var password = $("#senha").val();
    var confirmPassword = $("#senha2").val();

    if (password != confirmPassword) {
        $("#divCheckPassword").html("As senhas não são").css('color', 'red');
         $('#validator').prop('disabled' , true);
    } else {
        $("#divCheckPassword").html("Senhas identicas").css('color', 'green');
        $('#validator').prop('disabled' , false);
    }
});
</script>
<script>
  $('#validator').prop('disabled' , true);
$('#email2').on('keyup', function () {
    var password = $("#email").val();
    var confirmPassword = $("#email2").val();

    if (password != confirmPassword) {
        $("#message").html("Os email não são identicos").css('color', 'red');
         $('#validator').prop('disabled' , true);
    } else {
        $("#message").html("Os email são identicos").css('color', 'green');
        $('#validator').prop('disabled' , false);
    }
});
</script>



{% endblock %}

{% block rightcol %}
{% include 'bases/rightcol.html' %}
{% endblock %}

{% block footer %}
{% include 'bases/footer.html' %}
{% endblock %}